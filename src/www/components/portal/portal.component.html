<div class="page-content" fxLayout="column" fxLayoutAlign="start center" >
  <h2>
    Datarea.io is keeping track with {{ portals.length | number }} open data portals
  </h2>

  <h3>
    {{ datasetSum | number }} datasets for {{ regionCount | number }} regions
  </h3>

  <div fxLayout="row" fxLayoutAlign="space-around center"  class="botton-group">
    <button md-raised-button (click)="switchPage('map')">Map</button>
    <button md-raised-button (click)="switchPage('list')">List</button>
  </div>

  <div class="detail-page scrollable-y" [hidden]="detailPage !== 'list'">
    <table id="portal-list" class="bordered responsive-table">
      <thead>
        <th>Portal Name</th>
        <th>Region</th>
        <th>Platform</th>
        <th>Dataset Count</th>
        <th>Updated Date</th>
      </thead>
      <tbody>
        <tr *ngFor="let portal of portals">
          <td><a target="_blank" href="{{portal.url}}">{{ portal.name }}</a></td>
          <td>{{ portal.region }}</td>
          <td>{{ portal.platform }}</td>
          <td>{{ portal.datasetCount | number }}</td>
          <td>{{ portal.updatedDate | date: 'longDate' }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="detail-page" [hidden]="detailPage !== 'map'">
    <div id="portal-map" class="sidebar-map">
      <div id="portal-map-sidebar" class="sidebar collapsed" [hidden]="!showSidebar">
          <div class="sidebar-tabs">
            <ul role="tablist">
              <li><a href="#portal-map-sidebar-home" role="tab"><i class="fa fa-bars"></i></a></li>
            </ul>
          </div>

          <div class="sidebar-content">
            <div id="portal-map-sidebar-home"
                 class="sidebar-panel"
                 *ngIf="selectedRegion !== null">
                <h1 class="sidebar-header">
                  {{ selectedRegion.name }}
                  <span class="sidebar-close"><i class="fa fa-caret-left"></i></span>
                </h1>

                <h2>
                  {{ selectedRegion.portals.length }} portal(s) in this region
                </h2>

                <ul class="portal-list">
                  <li *ngFor="let portal of selectedRegion.portals">
                    <a target="_blank" href="{{portal.url}}">{{ portal.name }}</a>
                    <span [hidden]="portal.datasetCount === null">({{ portal.datasetCount | number }})</span>
                  </li>
                </ul>

                <button md-raised-button (click)="closeSidebar()">Close</button>
            </div>
        </div>
    </div>
  <div>


</div>
