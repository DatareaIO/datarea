<div class="page-content scrollable-y" fxLayout="column">
  <button md-button (click)="goBack()" flex-offset="15">
    <i class="fa fa-arrow-left" aria-hidden="true"></i>
  </button>

  <div fxLayout="column" fxLayoutAlign="start center">
    <div *ngIf="loading" fxLayout="column" fxLayoutAlign="center center">
      <md-spinner></md-spinner>
      <div class="text-hint">
        <small>Loading...</small>
      </div>
    </div>

    <div *ngIf="!loading && !dataset" fxLayout="column" fxLayoutAlign="center center">
      <div class="text-hint">
        <small>Dataset not found.</small>
      </div>
    </div>

    <div *ngIf="!loading && dataset" class="dataset-container">
      <h2>{{ dataset.name }}</h2>
      <md-tab-group>
        <md-tab label="Details">

          <div class="section" *ngIf="dataset.categories.length > 0">
            <h3 id="category" class="section-name clickable" (click)="hide.category = !hide.category">
              <!-- <i class="fa fa-hashtag section-tag" aria-hidden="true" fragment="descriotion"></i> -->
              Category
            </h3>
            <div class="section-content" [hidden]="hide.category">
              <md-chip-list>
                <md-chip color="primary" *ngFor="let category of dataset.categories">{{ category }}</md-chip>
              </md-chip-list>
            </div>
            <md-divider></md-divider>
          </div>

          <div class="section" *ngIf="dataset.description">
            <h3 id="description" class="section-name clickable" (click)="hide.description = !hide.description">
              <!-- <i class="fa fa-hashtag section-tag" aria-hidden="true"></i> -->
              Description
            </h3>
            <div class="section-content" [hidden]="hide.description">
              <p [innerHTML]="dataset.description"></p>
            </div>
            <md-divider></md-divider>
          </div>

          <div class="section" *ngIf="dataset.tags.length > 0">
            <h3 id="category" class="section-name clickable" (click)="hide.tag = !hide.tag">
              <!-- <i class="fa fa-hashtag section-tag" aria-hidden="true" fragment="tag"></i> -->
              Tag
            </h3>
            <div class="section-content" [hidden]="hide.tag">
              <md-chip-list>
                <md-chip color="primary" *ngFor="let tag of dataset.tags">{{ tag }}</md-chip>
              </md-chip-list>
            </div>
            <md-divider></md-divider>
          </div>

          <div class="section">
            <h3 id="link" class="section-name clickable" (click)="hide.link = !hide.link">
              <!-- <i class="fa fa-hashtag section-tag" aria-hidden="true" fragment="link"></i> -->
              Link
            </h3>
            <md-list class="section-content" [hidden]="hide.link">
              <md-list-item>
                <md-icon md-list-icon class="fa fa-link" aria-hidden="true"></md-icon>
                <p md-line class="item-name">Portal Link</p>
                <a md-line target="_blank" href="{{ dataset.portalLink }}">{{ dataset.portalLink }}</a>
              </md-list-item>
              <md-list-item *ngIf="dataset.dataLink">
                <md-icon md-list-icon class="fa fa-database" aria-hidden="true"></md-icon>
                <p md-line class="item-name">Data Link</p>
                <a md-line target="_blank" href="{{ dataset.dataLink }}">{{ dataset.dataLink }}</a>
              </md-list-item>
            </md-list>
            <md-divider></md-divider>
          </div>

          <div class="section">
            <h3 id="link" class="section-name clickable" (click)="hide.publication = !hide.publication">
              <!-- <i class="fa fa-hashtag section-tag" aria-hidden="true" fragment="publication"></i> -->
              Publication
            </h3>
            <md-list class="section-content" [hidden]="hide.publication">
              <md-list-item *ngIf="dataset.publisher">
                <md-icon md-list-icon class="fa fa-user" aria-hidden="true"></md-icon>
                <p md-line class="item-name">Publisher</p>
                <p md-line>{{ dataset.publisher }}</p>
              </md-list-item>
              <md-list-item>
                <md-icon md-list-icon class="fa fa-link" aria-hidden="true"></md-icon>
                <p md-line class="item-name">Portal</p>
                <p md-line>
                  <a target="_blank" href="{{ dataset.portalUrl }}">{{ dataset.portal }}</a>
                </p>
              </md-list-item>
              <md-list-item *ngIf="dataset.license">
                <md-icon md-list-icon class="fa fa-bookmark" aria-hidden="true"></md-icon>
                <p md-line class="item-name">License</p>
                <p md-line>{{ dataset.license }}</p>
              </md-list-item>
              <md-list-item>
                <md-icon md-list-icon class="fa fa-calendar" aria-hidden="true"></md-icon>
                <p md-line class="item-name">Created</p>
                <p md-line>{{ dataset.createdTime | date: 'short' }}</p>
              </md-list-item>
              <md-list-item>
                <md-icon md-list-icon class="fa fa-calendar" aria-hidden="true"></md-icon>
                <p md-line class="item-name">Updated</p>
                <p md-line>{{ dataset.updatedTime | date: 'short' }}</p>
              </md-list-item>
            </md-list>
          </div>

        </md-tab>
      </md-tab-group>
    </div>
  </div>

</div>
